{"version":3,"sources":["component/userMenu/UserMenu.module.css","component/userMenu/Navigation.module.css","redux/auth/Auth-operations.js","redux/auth/Auth-selectors.js","redux/auth/Auth-actions.js","component/userMenu/AuthNav.module.css","component/container/Container.module.css","component/userMenu/AppBar.module.css","component/container/Container.js","redux/phonebook/Phonebook-actions.js","component/userMenu/profile-default-image.jpg","component/userMenu/UserMenu.js","routes.js","component/userMenu/Navigation.js","component/userMenu/AuthNav.js","component/userMenu/AppBar.js","component/userMenu/PrivateRoute.js","component/userMenu/PublicRoute.js","App.js","redux/phonebook/Phonebook-reducer.js","redux/auth/Auth-reducer.js","redux/store.js","index.js"],"names":["module","exports","axios","defaults","baseURL","token","set","headers","common","Authorization","unset","register","credentials","dispatch","a","authActions","registerRequest","post","response","data","registerSuccess","registerError","message","logIn","loginRequest","loginSuccess","loginError","logOut","logoutRequest","logoutSuccess","logoutError","getCurrentUser","getState","persistedToken","auth","getCurrentUserRequest","get","getCurrentUserSuccess","getCurrentUserError","getIsAuthenticated","state","isAuthenticated","getUserName","user","name","createAction","Container","children","className","styles","container","fetchContactsRequest","fetchContactsSuccess","fetchContactsError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","mapDispatchToProps","onLogout","authOperations","connect","authSelectors","avatar","defaultAvatar","user__card","src","alt","width","user__name","onClick","logout__button","nav","to","routes","nav__link","AuthNav","auth__nav","auth__link","exact","page__header","Component","component","routeProps","render","props","redirectTo","restricted","HomeView","lazy","RegisterView","LoginView","ContactsView","App","this","onRefresh","fallback","path","items","createReducer","_","payload","filter","id","loading","setError","cleanError","error","combineReducers","initialState","email","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","phonebook","phonebookReducer","persistReducer","authReducer","devTools","process","persistor","persistStore","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9f53a7c2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"user__card\":\"UserMenu_user__card__yV5EQ\",\"user__name\":\"UserMenu_user__name__3yRIC\",\"logout__button\":\"UserMenu_logout__button__1_hxg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navigation_nav__3KCRK\",\"nav__link\":\"Navigation_nav__link__3EoN9\"};","import axios from 'axios';\nimport { authActions } from '../auth';\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\n\nconst token = {\n    set(token) {\n        axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n    },\n    unset() {\n        axios.defaults.headers.common.Authorization = '';\n    },\n};\n\nconst register = credentials => async dispatch => {\n    dispatch(authActions.registerRequest());\n\n    try {\n        const response = await axios.post('/users/signup', credentials);\n\n        token.set(response.data.token);\n        dispatch(authActions.registerSuccess(response.data));\n    } catch (error) {\n        dispatch(authActions.registerError(error.message));\n    }\n};\n\nconst logIn = credentials => async dispatch => {\n    dispatch(authActions.loginRequest());\n\n    try {\n        const response = await axios.post('/users/login', credentials);\n\n        token.set(response.data.token);\n        dispatch(authActions.loginSuccess(response.data));\n    } catch (error) {\n        dispatch(authActions.loginError(error.message));\n    }\n};\n\nconst logOut = () => async dispatch => {\n    dispatch(authActions.logoutRequest());\n\n    try {\n        await axios.post('/users/logout');\n\n        token.unset();\n        dispatch(authActions.logoutSuccess());\n    } catch (error) {\n        dispatch(authActions.logoutError(error.message));\n    }\n};\n\nconst getCurrentUser = () => async (dispatch, getState) => {\n    const {\n        auth: { token: persistedToken },\n    } = getState();\n\n    if (!persistedToken) {\n        return;\n    }\n\n    token.set(persistedToken);\n    dispatch(authActions.getCurrentUserRequest());\n\n    try {\n        const response = await axios.get('/users/current');\n        dispatch(authActions.getCurrentUserSuccess(response.data));\n    } catch (error) {\n        dispatch(authActions.getCurrentUserError(error.message));\n    }\n};\n\nexport default { token, register, logIn, logOut, getCurrentUser };\n","const getIsAuthenticated = state => state.auth.isAuthenticated;\n\nconst getUserName = state => state.auth.user.name;\n\nexport default { getIsAuthenticated, getUserName };\n","import { createAction } from '@reduxjs/toolkit';\n\nconst registerRequest = createAction('auth/registerRequest');\nconst registerSuccess = createAction('auth/registerSuccess');\nconst registerError = createAction('auth/registerError');\n\nconst loginRequest = createAction('auth/loginRequest');\nconst loginSuccess = createAction('auth/loginSuccess');\nconst loginError = createAction('auth/loginError');\n\nconst logoutRequest = createAction('auth/logoutRequest');\nconst logoutSuccess = createAction('auth/logoutSuccess');\nconst logoutError = createAction('auth/logoutError');\n\nconst getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\nconst getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\nconst getCurrentUserError = createAction('auth/getCurrentUserError');\n\nexport default {\n    registerRequest,\n    registerSuccess,\n    registerError,\n    loginRequest,\n    loginSuccess,\n    loginError,\n    logoutRequest,\n    logoutSuccess,\n    logoutError,\n    getCurrentUserRequest,\n    getCurrentUserSuccess,\n    getCurrentUserError,\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth__nav\":\"AuthNav_auth__nav__wNgcv\",\"auth__link\":\"AuthNav_auth__link__2KyJ1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__2-ONu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page__header\":\"AppBar_page__header__3GqZ2\",\"header__container\":\"AppBar_header__container__2UAwU\"};","import styles from '../container/Container.module.css';\n\nconst Container = ({ children }) => (\n    <div className={styles.container}>{children}</div>\n);\nexport default Container;\n","import { createAction } from '@reduxjs/toolkit';\n\nexport const fetchContactsRequest = createAction(\n    'contacts/fetchContactsRequest',\n);\nexport const fetchContactsSuccess = createAction(\n    'contacts/fetchContactsSuccess',\n);\nexport const fetchContactsError = createAction('contacts/fetchContactsError');\n\nexport const addContactRequest = createAction('contacts/addContactRequest');\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\nexport const addContactError = createAction('contacts/addContactError');\n\nexport const deleteContactRequest = createAction(\n    'contacts/deleteContactRequest',\n);\nexport const deleteContactSuccess = createAction(\n    'contacts/deleteContactSuccess',\n);\nexport const deleteContactError = createAction('contacts/deleteContactError');\n\nexport const changeFilter = createAction('phonebook/filter');\n","export default __webpack_public_path__ + \"static/media/profile-default-image.b8edc76c.jpg\";","import React from 'react';\nimport { connect } from 'react-redux';\nimport { authSelectors } from '../../redux/auth';\nimport { authOperations } from '../../redux/auth';\nimport defaultAvatar from '../userMenu/profile-default-image.jpg';\nimport styles from './UserMenu.module.css';\n\nconst UserMenu = ({ avatar, name, onLogout }) => (\n    <div className={styles.user__card}>\n        <img src={avatar} alt=\"avatar\" width=\"15\" />\n        <span className={styles.user__name}>Welcome, {name}</span>\n        <button onClick={onLogout} className={styles.logout__button}>\n            Logout\n        </button>\n    </div>\n);\nconst mapStateToProps = state => ({\n    name: authSelectors.getUserName(state),\n    avatar: defaultAvatar,\n});\n\nconst mapDispatchToProps = {\n    onLogout: authOperations.logOut,\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);\n","/* eslint-disable import/no-anonymous-default-export */\nexport default {\n    home: '/',\n    register: '/register',\n    login: '/login',\n    contacts: '/contacts',\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { authSelectors } from '../../redux/auth';\nimport routes from '../../routes';\nimport { connect } from 'react-redux';\nimport styles from './Navigation.module.css';\n\nconst Navigation = ({ isAuthenticated }) => {\n    return (\n        <nav className={styles.nav}>\n            <Link to={routes.home} className={styles.nav__link}>\n                Main\n            </Link>\n            {isAuthenticated && (\n                <Link to={routes.contacts} className={styles.nav__link}>\n                    Contacts\n                </Link>\n            )}\n        </nav>\n    );\n};\nconst mapStateToProps = state => ({\n    isAuthenticated: authSelectors.getIsAuthenticated(state),\n});\n\nexport default connect(mapStateToProps, null)(Navigation);\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport styles from './AuthNav.module.css';\n\nconst AuthNav = () => {\n    return (\n        <div className={styles.auth__nav}>\n            <NavLink className={styles.auth__link} to=\"/register\" exact>\n                Register\n            </NavLink>\n\n            <NavLink className={styles.auth__link} to=\"/login\" exact>\n                Login\n            </NavLink>\n        </div>\n    );\n};\n\nexport default AuthNav;\n","import { connect } from 'react-redux';\nimport { authSelectors } from '../../redux/auth';\n\nimport React from 'react';\nimport UserMenu from './UserMenu';\nimport Navigation from './Navigation';\nimport AuthNav from './AuthNav';\nimport Container from '../container/Container';\nimport styles from './AppBar.module.css';\n\nconst AppBar = ({ isAuthenticated }) => {\n    return (\n        <header className={styles.page__header}>\n            {/* <div className={styles.header__container}> */}\n            <Navigation />\n            {isAuthenticated ? <UserMenu /> : <AuthNav />}\n            {/* </div> */}\n        </header>\n    );\n};\n\nconst mapStateToProps = state => ({\n    isAuthenticated: authSelectors.getIsAuthenticated(state),\n});\n\nexport default connect(mapStateToProps, null)(AppBar);\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { authSelectors } from '../../redux/auth';\n\n// Если маршрут приватный и пользователь залогинен - рендер компонента\n// Если нет - отправка на Логин\n\nconst PrivateRoute = ({\n    component: Component,\n    isAuthenticated,\n    ...routeProps\n}) => (\n    <Route\n        {...routeProps}\n        render={props =>\n            isAuthenticated ? (\n                <Component {...props} />\n            ) : (\n                <Redirect to=\"/login\" />\n            )\n        }\n    />\n);\n\nconst mapStateToProps = state => ({\n    isAuthenticated: authSelectors.getIsAuthenticated(state),\n});\n\nexport default connect(mapStateToProps, null)(PrivateRoute);\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { authSelectors } from '../../redux/auth';\n\n// Если маршрут ограниченный и пользователь залогинен - отправка на /contacts\n// Если нет - рендер компонента\n\nconst PublicRoute = ({\n    component: Component,\n    isAuthenticated,\n    redirectTo,\n    ...routeProps\n}) => (\n    <Route\n        {...routeProps}\n        render={props =>\n            isAuthenticated && routeProps.restricted ? (\n                <Redirect to={redirectTo} />\n            ) : (\n                <Component {...props} />\n            )\n        }\n    />\n);\n\nconst mapStateToProps = state => ({\n    isAuthenticated: authSelectors.getIsAuthenticated(state),\n});\n\nexport default connect(mapStateToProps, null)(PublicRoute);\n","import React, { Suspense, Component, lazy } from 'react';\nimport { Switch } from 'react-router-dom';\n\n// Components\nimport AppBar from './component/userMenu/AppBar';\nimport routes from './routes';\nimport PrivateRoute from './component/userMenu/PrivateRoute';\nimport PublicRoute from './component/userMenu/PublicRoute';\nimport { authOperations } from './redux/auth';\nimport { connect } from 'react-redux';\n\n// Lazy load\nconst HomeView = lazy(() => import('./views/HomeView'));\nconst RegisterView = lazy(() => import('./views/RegisterView'));\nconst LoginView = lazy(() => import('./views/LoginView'));\nconst ContactsView = lazy(() => import('./views/ContactsView'));\n\nclass App extends Component {\n    componentDidMount() {\n        this.props.onRefresh();\n    }\n    render() {\n        return (\n            <>\n                <AppBar />\n\n                <Suspense fallback={<h1>Загружаем!</h1>}>\n                    <Switch>\n                        <PublicRoute\n                            exact\n                            path={routes.home}\n                            component={HomeView}\n                        />\n                        <PublicRoute\n                            restricted\n                            redirectTo=\"/contacts\"\n                            path={routes.register}\n                            component={RegisterView}\n                        />\n                        <PublicRoute\n                            restricted\n                            redirectTo=\"/contacts\"\n                            path={routes.login}\n                            component={LoginView}\n                        />\n                        <PrivateRoute\n                            path={routes.contacts}\n                            component={ContactsView}\n                        />\n                    </Switch>\n                </Suspense>\n            </>\n        );\n    }\n}\nconst mapDispatchToProps = {\n    onRefresh: authOperations.getCurrentUser,\n};\nexport default connect(null, mapDispatchToProps)(App);\n","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport {\n    fetchContactsRequest,\n    fetchContactsSuccess,\n    fetchContactsError,\n    addContactRequest,\n    addContactSuccess,\n    addContactError,\n    deleteContactRequest,\n    deleteContactSuccess,\n    deleteContactError,\n    changeFilter,\n} from './Phonebook-actions';\n\nconst items = createReducer([], {\n    [fetchContactsSuccess]: (_, { payload }) => payload,\n    [addContactSuccess]: (state, { payload }) => [...state, payload],\n    [deleteContactSuccess]: (state, { payload }) =>\n        state.filter(({ id }) => id !== payload),\n});\n\nconst filter = createReducer('', {\n    [changeFilter]: (_, { payload }) => payload,\n});\n\nconst loading = createReducer(false, {\n    [addContactRequest]: () => true,\n    [addContactSuccess]: () => false,\n    [addContactError]: () => false,\n    [deleteContactRequest]: () => true,\n    [deleteContactSuccess]: () => false,\n    [deleteContactError]: () => false,\n    [fetchContactsRequest]: () => true,\n    [fetchContactsSuccess]: () => false,\n    [fetchContactsError]: () => false,\n});\n\nconst setError = (_, { payload }) => payload;\nconst cleanError = () => null;\n\nconst error = createReducer(null, {\n    [addContactError]: setError,\n    [deleteContactError]: setError,\n    [fetchContactsError]: setError,\n    [addContactSuccess]: cleanError,\n    [deleteContactSuccess]: cleanError,\n    [fetchContactsSuccess]: cleanError,\n});\n\nexport default combineReducers({\n    items,\n    filter,\n    loading,\n    error,\n});\n","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport { authActions } from '../auth';\n\nconst initialState = {\n    name: null,\n    email: null,\n};\n\nconst user = createReducer(initialState, {\n    [authActions.registerSuccess]: (_, { payload }) => payload.user,\n    [authActions.loginSuccess]: (_, { payload }) => payload.user,\n    [authActions.logoutSuccess]: () => initialState,\n    [authActions.getCurrentUserSuccess]: (_, { payload }) => payload,\n});\n\nconst token = createReducer(null, {\n    [authActions.registerSuccess]: (_, { payload }) => payload.token,\n    [authActions.loginSuccess]: (_, { payload }) => payload.token,\n    [authActions.logoutSuccess]: () => null,\n});\n\nconst setError = (_, { payload }) => payload;\nconst cleanError = () => null;\n\nconst error = createReducer(null, {\n    [authActions.registerError]: setError,\n    [authActions.loginError]: setError,\n    [authActions.logoutError]: setError,\n    [authActions.getCurrentUserError]: setError,\n    [authActions.registerSuccess]: cleanError,\n    [authActions.loginSuccess]: cleanError,\n    [authActions.logoutError]: cleanError,\n    [authActions.registerSuccess]: cleanError,\n});\n\nconst isAuthenticated = createReducer(false, {\n    [authActions.registerSuccess]: () => true,\n    [authActions.loginSuccess]: () => true,\n    [authActions.getCurrentUserSuccess]: () => true,\n    [authActions.registerError]: () => false,\n    [authActions.loginError]: () => false,\n    [authActions.getCurrentUserError]: () => false,\n    [authActions.logoutSuccess]: () => false,\n});\n\nexport default combineReducers({\n    user,\n    token,\n    error,\n    isAuthenticated,\n});\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport logger from 'redux-logger';\nimport storage from 'redux-persist/lib/storage';\nimport {\n    persistStore,\n    persistReducer,\n    FLUSH,\n    REHYDRATE,\n    PAUSE,\n    PERSIST,\n    PURGE,\n    REGISTER,\n} from 'redux-persist';\nimport phonebookReducer from './phonebook/Phonebook-reducer';\nimport authReducer from './auth/Auth-reducer';\n\nconst middleware = [\n    ...getDefaultMiddleware({\n        serializableCheck: {\n            ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n        },\n    }),\n    logger,\n];\nconst authPersistConfig = {\n    key: 'auth',\n    storage,\n    whitelist: ['token'],\n};\n\nconst store = configureStore({\n    reducer: {\n        phonebook: phonebookReducer,\n        auth: persistReducer(authPersistConfig, authReducer),\n    },\n    devTools: process.env.NODE_ENV === 'development',\n    middleware,\n});\n\nconst persistor = persistStore(store);\n\nexport default { store, persistor };\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport store from './redux/store';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store.store}>\n            <PersistGate loading={null} persistor={store.persistor}>\n                <BrowserRouter>\n                    <App />\n                </BrowserRouter>\n            </PersistGate>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}